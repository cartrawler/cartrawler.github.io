<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" >

		<link rel="stylesheet" href="/css/style.css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
		<script src="/js/main.js"></script>
		<!-- Begin Jekyll SEO tag v2.1.0 -->
<title>CarTrawler Native Docs - CarTrawler</title>
<meta property="og:title" content="CarTrawler Native Docs" />
<meta name="description" content="CarTrawler native documentation" />
<meta property="og:description" content="CarTrawler native documentation" />
<link rel="canonical" href="http://localhost:4000/" />
<meta property="og:url" content="http://localhost:4000/" />
<meta property="og:site_name" content="CarTrawler" />
<script type="application/ld+json">
{"@context": "http://schema.org",
"@type": "WebSite",
"name": "CarTrawler",
"headline": "CarTrawler Native Docs",
"description": "CarTrawler native documentation",
"url": "http://localhost:4000/"}</script>
<!-- End Jekyll SEO tag -->

	</head>
	<body>
		<header>
			<h1>
				<a href="/" id="title">CarTrawler Native</a>
				<button type="button" class="open-nav" id="open-nav"></button>
			</h1>

			<form action="/search/" method="get">
				<input type="text" name="q" id="search-input" placeholder="Search">
				<input type="submit" value="Search" style="display: none;">
			</form>

			<div id="sidebar" class="sidebar">
	
	
		
	
		
			<section>
				<h6>Introduction</h6>
				<ul>
					
					
						<li>
							<a href="#section_introductionwelcome">
								Getting Started
							</a>
						</li>
					
				</ul>
			</section>
		
	
		
			<section>
				<h6>Android</h6>
				<ul>
					
					
						<li>
							<a href="#section_androidintroduction">
								Introduction
							</a>
						</li>
					
						<li>
							<a href="#section_androidintegration">
								Integration
							</a>
						</li>
					
						<li>
							<a href="#section_androidusage">
								Usage
							</a>
						</li>
					
				</ul>
			</section>
		
	
		
			<section>
				<h6>iOS</h6>
				<ul>
					
					
						<li>
							<a href="#section_iosintroduction">
								Introduction
							</a>
						</li>
					
						<li>
							<a href="#section_iosintegration">
								Integration
							</a>
						</li>
					
						<li>
							<a href="#section_iosusage">
								Usage
							</a>
						</li>
					
				</ul>
			</section>
		
	
</div>

		</header>
		<div class="main">
			

	
	

	
	
		<section class="doc-content">
			<section class="left-docs">
				<h3>
					<a id="section_introductionwelcome">
						Getting Started
						
					</a>
				</h3>
				

				<p>Welcome to CarTrawler native documentation.</p>

<p>This document is designed for those interested in including our native car rental solution into their Android and iOS applications.</p>

<!-- Our native codebase is still under development and will evolve. -->

<!-- You'll succeed if you do this.
{: .success }

Here's some useful information.
{: .info }

Something may not happen if you try and do this.
{: .warning }

Something bad will happen if you do this.
{: .error } -->

			</section>

			
		</section>
	

	
	
		<section class="doc-content">
			<section class="left-docs">
				<h3>
					<a id="section_androidintroduction">
						Introduction
						
							<span class="endpoint Android"></span>
						
					</a>
				</h3>
				

				<p>In general we are producing following libraries:</p>

<p><strong>cartrawler-api.jar</strong> – pure Java library, which contains models and business logic. It talks to the CarTrawler API and provides data through high level classes.</p>

<p><strong>cartrawler-pay.aar</strong> - separate Android library, which provides logic and interface for native card payments to CarTrawler API. It’s hosted and included separately for PCI compliance reasons.</p>

<p><strong>cartrawler-app.aar</strong> – Android library, which contains all presentation and resources (configs, strings, theme, drawables, layout files, etc). It also contains cartrawler-api.jar and cartrawler-pay.aar and uses them.</p>

			</section>

			
				<section class="right-code">
					

				</section>
			
		</section>
	
		<section class="doc-content">
			<section class="left-docs">
				<h3>
					<a id="section_androidintegration">
						Integration
						
							<span class="endpoint Android"></span>
						
					</a>
				</h3>
				

				<p>In order to integrate and start using our libraries, first make sure the Android SDK versions are matching. Currently we support following versions:</p>

<dl>
  <dt>minSdkVersion</dt>
  <dd>16</dd>
  <dt>targetSdkVersion</dt>
  <dd>25</dd>
</dl>

<p>Then check out list of dependencies we provide, and don’t forget to add our repository and its credentials to your gradle config.</p>

<p>Finally include our activity into you app’s manifest and update the proguard config accordinly.</p>

			</section>

			
				<section class="right-code">
					<div title="Gradle" class="language-java highlighter-rouge"><pre class="highlight"><code><span class="n">compile</span> <span class="s">"com.rakuten.android:dc-storm:1.0.0@aar"</span>
<span class="n">compile</span> <span class="s">"com.cartrawler.android:payment-card:0.2.5"</span>
<span class="n">compile</span> <span class="s">"com.cartrawler.android:car-rental:1.4.9"</span>

<span class="n">maven</span> <span class="o">{</span>
    <span class="n">url</span> <span class="s">"http://artifactory.cartrawler.com/artifactory/libs-release-local"</span>
    <span class="n">credentials</span> <span class="o">{</span> <span class="n">username</span> <span class="o">=</span> <span class="s">""</span> <span class="n">password</span> <span class="o">=</span> <span class="s">""</span> <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<div title="Proguard" class="language-java highlighter-rouge"><pre class="highlight"><code><span class="o">-</span><span class="n">dontwarn</span> <span class="n">sun</span><span class="o">.</span><span class="na">misc</span><span class="o">.**</span>

<span class="o">-</span><span class="n">keepclassmembers</span> <span class="kd">class</span> <span class="nc">rx</span><span class="o">.</span><span class="na">internal</span><span class="o">.</span><span class="na">util</span><span class="o">.</span><span class="na">unsafe</span><span class="o">.*</span><span class="n">ArrayQueue</span><span class="o">*</span><span class="n">Field</span><span class="o">*</span> <span class="o">{</span>
    <span class="kt">long</span> <span class="n">producerIndex</span><span class="o">;</span>
    <span class="kt">long</span> <span class="n">consumerIndex</span><span class="o">;</span>
<span class="o">}</span>

<span class="o">-</span><span class="n">keepclassmembers</span> <span class="kd">class</span> <span class="nc">rx</span><span class="o">.</span><span class="na">internal</span><span class="o">.</span><span class="na">util</span><span class="o">.</span><span class="na">unsafe</span><span class="o">.</span><span class="na">BaseLinkedQueueProducerNodeRef</span> <span class="o">{</span>
    <span class="n">rx</span><span class="o">.</span><span class="na">internal</span><span class="o">.</span><span class="na">util</span><span class="o">.</span><span class="na">atomic</span><span class="o">.</span><span class="na">LinkedQueueNode</span> <span class="n">producerNode</span><span class="o">;</span>
<span class="o">}</span>

<span class="o">-</span><span class="n">keepclassmembers</span> <span class="kd">class</span> <span class="nc">rx</span><span class="o">.</span><span class="na">internal</span><span class="o">.</span><span class="na">util</span><span class="o">.</span><span class="na">unsafe</span><span class="o">.</span><span class="na">BaseLinkedQueueConsumerNodeRef</span> <span class="o">{</span>
    <span class="n">rx</span><span class="o">.</span><span class="na">internal</span><span class="o">.</span><span class="na">util</span><span class="o">.</span><span class="na">atomic</span><span class="o">.</span><span class="na">LinkedQueueNode</span> <span class="n">consumerNode</span><span class="o">;</span>
<span class="o">}</span>

<span class="o">-</span><span class="n">dontnote</span> <span class="n">rx</span><span class="o">.</span><span class="na">internal</span><span class="o">.</span><span class="na">util</span><span class="o">.</span><span class="na">PlatformDependent</span>
</code></pre>
</div>

<div title="Manifest" class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;activity</span> <span class="na">android:name=</span><span class="s">"cartrawler.core.engines.RentalActivity"</span> <span class="na">android:theme=</span><span class="s">"@style/CartrawlerAppTheme"</span> <span class="nt">/&gt;</span>
</code></pre>
</div>

				</section>
			
		</section>
	
		<section class="doc-content">
			<section class="left-docs">
				<h3>
					<a id="section_androidusage">
						Usage
						
							<span class="endpoint Android"></span>
						
					</a>
				</h3>
				

				<p>Now we are ready to start using the SDK.</p>

<p>The simplest form of usage is initializing the standalone booking sequence. You do it in 2 steps: first use the function that we provide to create the intent, then simply launch the activity with it. Here is the list of parameters that our function accepts:</p>

<dl>
  <dt>production</dt>
  <dd>switch between test and production endpoints</dd>
  <dt>requestor</dt>
  <dd>client id, required to use CarTrawler API</dd>
  <dt>language</dt>
  <dd>language code</dd>
  <dt>country</dt>
  <dd>country code, can be null</dd>
  <dt>currency</dt>
  <dd>currency code, can be null</dd>
  <dt>user</dt>
  <dd>user data object (we provide class for it), can be null</dd>
  <dt>customAttributes</dt>
  <dd>any additional attributes, custom to particular partner</dd>
</dl>

<p>You can also customise the color scheme of our engine by setting <strong>CT_ColorPrimary</strong>, <strong>CT_ColorSecondary</strong> and <strong>CT_ColorAccent</strong> values in your app’s colors.xml.</p>

			</section>

			
				<section class="right-code">
					<div title="Usage" class="language-java highlighter-rouge"><pre class="highlight"><code><span class="n">Context</span> <span class="n">context</span> <span class="o">=</span> <span class="n">getApplicationContext</span><span class="o">();</span>
    
<span class="n">Boolean</span> <span class="n">production</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
<span class="n">String</span> <span class="n">requestor</span> <span class="o">=</span> <span class="s">"787697"</span><span class="o">;</span>
<span class="n">String</span> <span class="n">language</span> <span class="o">=</span> <span class="s">"EN"</span><span class="o">;</span>
<span class="n">String</span> <span class="n">country</span> <span class="o">=</span> <span class="s">"IE"</span><span class="o">;</span>
<span class="n">String</span> <span class="n">currency</span> <span class="o">=</span> <span class="s">"EUR"</span><span class="o">;</span>

<span class="n">User</span> <span class="n">user</span> <span class="o">=</span> <span class="k">new</span> <span class="n">User</span><span class="o">(</span><span class="s">"Title"</span><span class="o">,</span> <span class="err">“</span><span class="n">Name</span><span class="err">”</span><span class="o">,</span> <span class="err">“</span><span class="n">Surname</span><span class="err">”</span><span class="o">,</span> <span class="err">“</span><span class="n">Email</span><span class="err">”</span><span class="o">,</span> <span class="err">“</span><span class="n">Phone</span><span class="err">”</span><span class="o">,</span> <span class="err">“</span><span class="n">Address</span><span class="err">”</span><span class="o">,</span> <span class="err">“</span><span class="n">City</span><span class="err">”</span><span class="o">,</span> <span class="err">“</span><span class="n">Postcode</span><span class="err">”</span><span class="o">,</span> <span class="err">“</span><span class="n">Country</span><span class="err">”</span><span class="o">,</span> <span class="err">“</span><span class="n">Flight</span> <span class="n">code</span><span class="err">“</span><span class="o">,</span> <span class="err">“</span><span class="n">Age</span><span class="err">”</span><span class="o">);</span>

<span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">customAttributes</span> <span class="o">=</span> <span class="n">Interface</span><span class="o">.</span><span class="na">getCustomAttributes</span><span class="o">();</span>

<span class="n">Intent</span> <span class="n">rentalIntent</span> <span class="o">=</span> <span class="n">Interface</span><span class="o">.</span><span class="na">getRentalIntent</span><span class="o">(</span><span class="n">getApplicationContext</span><span class="o">(),</span> <span class="n">user</span><span class="o">,</span> <span class="n">requestor</span><span class="o">,</span> <span class="n">production</span><span class="o">,</span> <span class="n">language</span><span class="o">,</span> <span class="n">country</span><span class="o">,</span> <span class="n">currency</span><span class="o">,</span> <span class="n">customAttributes</span><span class="o">);</span>
<span class="n">startActivity</span><span class="o">(</span><span class="n">rentalIntent</span><span class="o">);</span>
</code></pre>
</div>

<div title="Colors" class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">"CT_ColorPrimary"</span><span class="nt">&gt;</span>#2AA9E0<span class="nt">&lt;/color&gt;</span>
<span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">"CT_ColorSecondary"</span><span class="nt">&gt;</span>#21456D<span class="nt">&lt;/color&gt;</span>
<span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">"CT_ColorAccent"</span><span class="nt">&gt;</span>#21456D<span class="nt">&lt;/color&gt;</span>
</code></pre>
</div>

				</section>
			
		</section>
	

	
	
		<section class="doc-content">
			<section class="left-docs">
				<h3>
					<a id="section_iosintroduction">
						Introduction
						
							<span class="endpoint iOS"></span>
						
					</a>
				</h3>
				

				<p>CarTrawler for iOS supports iOS 8, iOS 9, iOS 10 and iOS 11.</p>

			</section>

			
		</section>
	
		<section class="doc-content">
			<section class="left-docs">
				<h3>
					<a id="section_iosintegration">
						Integration
						
							<span class="endpoint iOS"></span>
						
					</a>
				</h3>
				

				<p><strong>CocoaPods</strong></p>

<p>Include the CarTrawler spec repository and pods in your Podfile and run pod install</p>

<p><strong>Carthage</strong></p>

<ol>
  <li>Add <code class="highlighter-rouge">github "cartrawler/cartrawler-ios-sdk"</code> to your Cartfile.</li>
  <li>Run carthage update.</li>
  <li>Go to your Xcode project’s “General” settings. Drag <code class="highlighter-rouge">CarTrawlerSDK.framework</code> from <code class="highlighter-rouge">Carthage/Build/iOS</code> to the “Embedded Binaries” section. Make sure “Copy items if needed” is selected and click Finish.</li>
</ol>

<p><strong>Manual Installation</strong></p>

<ol>
  <li><a href="https://github.com/cartrawler/cartrawler-ios-sdk/archive/master.zip">Download Car Trawler for iOS</a> and extract the zip.</li>
  <li>Go to your Xcode project’s “General” settings. Drag <code class="highlighter-rouge">CarTrawlerSDK.framework</code> to the “Embedded Binaries” section. Make sure “Copy items if needed” is selected and click Finish.</li>
  <li>Create a new “Run Script Phase” in your app’s target’s “Build Phases” and paste the following snippet in the script text field:</li>
</ol>

<div class="language-java highlighter-rouge"><pre class="highlight"><code>    <span class="n">bash</span> <span class="s">"${BUILT_PRODUCTS_DIR}/${FRAMEWORKS_FOLDER_PATH}/CarTrawlerSDK.framework/strip-frameworks.sh"</span>
    <span class="n">bash</span> <span class="s">"${BUILT_PRODUCTS_DIR}/${FRAMEWORKS_FOLDER_PATH}/CTPayment.framework/strip-frameworks.sh"</span>
</code></pre>
</div>

<p>This step is required to work around an <a href="http://www.openradar.me/radar?id=6409498411401216">App Store submission bug</a> when archiving universal binaries.</p>

			</section>

			
				<section class="right-code">
					<div title="Podfile" class="language-java highlighter-rouge"><pre class="highlight"><code><span class="n">source</span> <span class="err">'</span><span class="nl">https:</span><span class="c1">//github.com/CocoaPods/Specs.git'</span>
<span class="n">source</span> <span class="err">'</span><span class="nl">https:</span><span class="c1">//github.com/cartrawler/cartrawler-ios-pods'</span>

<span class="n">platform</span> <span class="o">:</span><span class="n">ios</span><span class="o">,</span> <span class="err">'</span><span class="mf">8.0</span><span class="err">'</span>

<span class="n">target</span> <span class="err">‘</span><span class="n">MyTarget</span><span class="err">’</span> <span class="k">do</span>
  <span class="n">pod</span> <span class="err">'</span><span class="n">CarTrawlerSDK</span><span class="err">'</span><span class="o">,</span> <span class="err">'</span><span class="o">~&gt;</span> <span class="mf">4.1</span><span class="err">'</span>
  <span class="n">pod</span> <span class="err">'</span><span class="n">CTPayment</span><span class="err">'</span><span class="o">,</span> <span class="err">'</span><span class="o">~&gt;</span> <span class="mf">1.0</span><span class="err">'</span>
<span class="n">end</span>
</code></pre>
</div>

				</section>
			
		</section>
	
		<section class="doc-content">
			<section class="left-docs">
				<h3>
					<a id="section_iosusage">
						Usage
						
							<span class="endpoint iOS"></span>
						
					</a>
				</h3>
				

				<p>This is the example of setup and configuration.</p>

			</section>

			
				<section class="right-code">
					<div title="Usage" class="language-java highlighter-rouge"><pre class="highlight"><code><span class="nd">@import</span> <span class="n">CarTrawlerSDK</span><span class="o">;</span>

<span class="o">-</span> <span class="o">(</span><span class="kt">void</span><span class="o">)</span><span class="n">viewDidLoad</span> <span class="o">{</span>
    <span class="o">[</span><span class="kd">super</span> <span class="n">viewDidLoad</span><span class="o">];</span>
    <span class="n">self</span><span class="o">.</span><span class="na">carTrawlerSDK</span> <span class="o">=</span> <span class="o">[</span><span class="n">CarTrawlerSDK</span> <span class="k">new</span><span class="o">];</span>
<span class="o">}</span>

<span class="o">-</span> <span class="o">(</span><span class="kt">void</span><span class="o">)</span><span class="n">carRentalButtonTapped</span> <span class="o">{</span>
    <span class="o">[</span><span class="n">self</span><span class="o">.</span><span class="na">sdk</span> <span class="nl">presentCarTrawler:</span><span class="n">self</span>
                       <span class="nl">clientID:</span><span class="err">@</span><span class="s">"123456"</span>
                     <span class="nl">production:</span><span class="n">YES</span>
                       <span class="nl">language:</span><span class="err">@</span><span class="s">"EN"</span>
                        <span class="nl">country:</span><span class="err">@</span><span class="s">"IE"</span>
                       <span class="nl">currency:</span><span class="err">@</span><span class="s">"EUR"</span>
                           <span class="nl">user:</span><span class="n">nil</span>
                          <span class="nl">style:</span><span class="n">nil</span>
               <span class="nl">customAttributes:</span><span class="n">customAttributes</span><span class="o">];</span>
<span class="o">}</span>
</code></pre>
</div>

				</section>
			
		</section>
	


		</div>
		<script>
			document.getElementById("open-nav").addEventListener("click", function () {
				document.body.classList.toggle("nav-open");
			});
		</script>
	</body>
</html>